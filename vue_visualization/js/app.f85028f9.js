(function(){"use strict";var e={502:function(e,t,i){var n=i(6369),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"Buttons"},[i("div",{staticClass:"fancy",on:{click:function(t){e.isTopology=!e.isTopology}}},[i("span",{staticClass:"top-key"}),i("span",{staticClass:"text"},[e._v(" Switch Views")]),i("span",{staticClass:"bottom-key-1"}),i("span",{staticClass:"bottom-key-2"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isTopology,expression:"isTopology == true"}],staticClass:"fancy",on:{click:function(t){e.curPieID=(e.curPieID+1)%e.client_num}}},[i("span",{staticClass:"text"},[e._v(" Switch Pie Charts")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isTopology,expression:"isTopology == true"}],staticClass:"toggler"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.showPie,expression:"showPie"}],attrs:{id:"toggler-1",name:"toggler-1",type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.showPie)?e._i(e.showPie,"1")>-1:e.showPie},on:{change:function(t){var i=e.showPie,n=t.target,l=!!n.checked;if(Array.isArray(i)){var o="1",a=e._i(i,o);n.checked?a<0&&(e.showPie=i.concat([o])):a>-1&&(e.showPie=i.slice(0,a).concat(i.slice(a+1)))}else e.showPie=l}}}),i("label",{attrs:{for:"toggler-1"}},[i("svg",{staticClass:"toggler-on",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[i("polyline",{staticClass:"path check",attrs:{points:"100.2,40.2 51.5,88.8 29.8,67.5"}})]),i("svg",{staticClass:"toggler-off",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[i("line",{staticClass:"path line",attrs:{x1:"34.4",y1:"34.4",x2:"95.8",y2:"95.8"}}),i("line",{staticClass:"path line",attrs:{x1:"95.8",y1:"34.4",x2:"34.4",y2:"95.8"}})])])]),1==e.isTopology?i("Topology",{attrs:{network_layers:e.network_layers,client_num:e.client_num,client_layers_arr:e.client_layers_arr,feat_size:e.feat_size,time:e.time}}):e._e(),1==e.isTopology&&1==e.showPie?i("TimePie",{class:e.TimePieStyle,attrs:{client_time:e.time[e.curPieID],client_id:e.curPieID+1}}):e._e(),0==e.isTopology?i("ClientAcc",{attrs:{client_info:e.client_info}}):e._e()],1)},o=[],a=(i(7658),i(4311)),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("e-charts",{staticClass:"chart",attrs:{option:e.option}})},r=[],c={name:"Topology",props:["network_layers","client_num","client_layers_arr","feat_size","time"],computed:{option(){let e=["server"],t=[{name:"server"}];for(let r=1;r<=this.client_num;++r)e.push(`client ${r}`),t.push({name:`client ${r}`});let i=[],n=18,l=200;for(let r=this.network_layers;r>=1;--r)i.push({name:`Server    L${r}`,symbolSize:[150,10],x:1e3,y:0+(this.network_layers-r)*n,label:{show:!0,fontSize:15},value:`Total Layers = ${this.network_layers}`,category:"server"});let o=[];for(let r=1;r<=this.client_num;++r)for(let e=this.client_layers_arr[r-1];e>=1;--e){let t="";this.time[r-1]&&(t=`Time = ${this.time[r-1]["Client-"+(e-1)]}`),o.push({name:`Client${r} L${e}`,x:0+(r-1)*l,y:350+(this.client_layers_arr[r-1]-e)*n,label:{show:!0,fontSize:15,position:"right",fontFamily:"Courier New"},value:t,category:`client ${r}`})}let a=[];for(let r=1;r<=this.client_num;++r)a.push({name:`Client ${r}`,symbolSize:5,symbol:"circle",x:0+(r-1)*l,y:0+(this.network_layers-this.client_layers_arr[r-1])*n,label:{show:!0,position:"top",fontSize:20},value:`Feat Size = ${this.feat_size[r-1]}`,category:`client ${r}`});let s=[];for(let r=1;r<=this.client_num;++r)s.push({source:`Client${r} L${this.client_layers_arr[r-1]}`,target:`Client ${r}`},{source:`Client ${r}`,target:`Server    L${this.client_layers_arr[r-1]}`});return{title:{text:"Network Topology of Split Learning",textStyle:{fontSize:20},top:"left",left:"center"},tooltip:{},legend:{data:e,left:"center",top:45},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:{categories:t,type:"graph",layout:"none",draggable:!0,top:"15%",symbol:"Rect",symbolSize:[100,10],roam:!1,edgeSymbol:["circle","circle"],edgeSymbolSize:[4,10],lineStyle:{color:"source",opacity:.9,width:3,curveness:0,type:"dashed"},nodes:[].concat(i,o,a),links:s}}}}},u=c,h=i(1001),f=(0,h.Z)(u,s,r,!1,null,"c0b6e356",null),p=f.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",[i("e-charts",{staticClass:"chart",attrs:{option:e.option}})],1)},y=[],m={name:"TimePie",props:["client_time","client_id"],data(){return{}},computed:{option(){1==this.client_id&&console.log("TimePie_data #",this.client_time,"client_id #",this.client_id);let e=[];this.client_time&&e.push({value:this.client_time["Network"],name:"Network"});for(let t in this.client_time)-1!=t.indexOf("Client")?e.push({value:this.client_time[t],name:`Client${this.client_id}_L${t[t.length-1]}`}):-1!=t.indexOf("Server")&&e.push({value:this.client_time[t],name:`Server_L${t[t.length-1]}`});return{title:{text:`Time Pie of Client ${this.client_id}`,left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:e,label:{fontStyle:"oblique"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},g=m,d=(0,h.Z)(g,_,y,!1,null,"339d7f51",null),v=d.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("e-charts",{staticClass:"chart",attrs:{option:e.option}})],1)},S=[],C={name:"ClientAcc",props:["client_info"],data(){return{dataSize:1e3,SES_a:.3}},computed:{option(){console.log(this.client_info);let e=new Array(this.client_info.length).fill([]);if(this.client_info[0].acc.length<=this.dataSize)for(let n=0;n<e.length;++n)e[n]=this.client_info[n].acc;else for(let n=0;n<e.length;++n)e[n]=this.client_info[n].acc.slice(this.client_info[n].acc.length-this.dataSize);e.forEach((e=>{for(let t=1;t<e.length;++t)e[t]=this.SES_a*e[t]+(1-this.SES_a)*e[t-1]}));let t=[];for(let n=0;n<e.length;++n)t.push({type:"line",showSymbol:!1,data:e[n],name:`Accuracy of client ${n+1} `});let i=new Array(this.dataSize).fill("");return{title:{text:"Visualization of Client Accuracy",textStyle:{fontFamily:"Arial",fontSize:21},left:"12%"},legend:{right:"10%",textStyle:{fontSize:14}},xAxis:{type:"category",data:i,axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{type:"value",max:1},series:t,tooltip:{trigger:"axis"}}}}},b=C,x=(0,h.Z)(b,w,S,!1,null,"2a3bc643",null),P=x.exports,k={name:"App",components:{Topology:p,TimePie:v,ClientAcc:P},data(){return console.log("data() called."),{isTopology:!0,showPie:!0,curPieID:0,TimePieStyle:"Time_Pie",network_layers:10,client_num:4,client_layers_arr:[3,6,4,9],feat_size:["[32, 1024]","[32, 256, 8, 8]"],time:[{"Client-0":65714761.86336608,"Client-1":81927512.65067351,"Client-2":49560469.8537196,"Client-3":152756860.03438517,"Client-4":60674013.23117779,"Client-5":805946.266524,"Client-6":146951.0505281,Network:3661824.7199758445,"Server-7":299557.9475233531}],client_info:[{acc:[.1,.2,.3]}]}},created(){console.log("created() called."),a.Z.get("http://127.0.0.1:5000/setting",{}).then((e=>{console.log("./setting.json #",e.data),this.network_layers=e.data.n_layers_total,this.client_num=e.data.client_num}));let e=()=>{a.Z.get("http://127.0.0.1:5000/data",{}).then((e=>{console.log("getData() begin."),console.log("./client_info.json #",e.data);let t=[],i=[],n=[],l=[];for(let o=1;o<=this.client_num;++o)if(t.push(e.data[String(o)].n_layer),i.push(e.data[String(o)].feat_size),n.push(e.data[String(o)].time),this.client_info[o-1]){let t=this.client_info[o-1].acc,i=t.concat(e.data[String(o)].accuracy);l.push({acc:i})}else l.push({acc:e.data[String(o)].accuracy});this.client_layers_arr=t,this.feat_size=i,this.time=n,this.client_info=l,console.log("app中的数据 #",this._data),console.log("getData() finished.")}))};e(),this.timer=setInterval(e,4e3)},beforeDestroy(){clearInterval(this.timer2),console.log("app即将驾鹤西游了")}},T=k,$=(0,h.Z)(T,l,o,!1,null,null,null),z=$.exports,O=(i(6036),i(2472));n.Z.config.productionTip=!1,n.Z.component("ECharts",O.ZP),new n.Z({render:e=>e(z)}).$mount("#app")}},t={};function i(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,n,l,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],o=e[u][2];for(var s=!0,r=0;r<n.length;r++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[r])}))?n.splice(r--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,l,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,a=n[0],s=n[1],r=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(l in s)i.o(s,l)&&(i.m[l]=s[l]);if(r)var u=r(i)}for(t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},n=self["webpackChunktiny_ml"]=self["webpackChunktiny_ml"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(502)}));n=i.O(n)})();
//# sourceMappingURL=app.f85028f9.js.map